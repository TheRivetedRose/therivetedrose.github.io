@tailwind base;
@tailwind components;
@tailwind utilities;

/* Design tokens - light mode default (Rosie cream from less saturated vintage posters) */
@layer base {
  :root {
    --c-accent: 175 85 95;
    --c-accent-muted: 155 70 82;
    --c-surface: 250 245 232;
    --c-surface-elevated: 252 248 238;
    --c-muted: 100 100 100;
    --c-border: 220 212 195;
    --c-text: 20 20 20;
    --c-text-muted: 55 55 55;
    --c-github: 15 191 62;
    --c-linkedin: 10 102 194;
    /* Rosie the Riveter palette (more saturated) */
    --c-rosie-yellow: 235 210 120;
    --c-rosie-red: 185 70 80;
    --c-rosie-navy: 45 70 105;
    --c-rosie-navy-bright: 80 120 190;
    --c-rosie-orange: 230 120 50;
    --font-sans: 'DM Sans', system-ui, sans-serif;
    --font-mono: 'JetBrains Mono', ui-monospace, monospace;
    /* Card hover glow for light theme (between light and dark yellow) */
    --card-hover-shadow-light: 0 0 24px rgba(208, 182, 95, 0.33);
    --card-hover-shadow-red-light: 0 0 24px rgba(185, 70, 80, 0.28);
  }

  .language-card:hover,
  .platform-card:hover,
  .project-card:hover {
    box-shadow: var(--card-hover-shadow-light) !important;
    border-color: rgb(208, 182, 95) !important;
  }

  .tool-card:hover,
  .blog-card:hover {
    box-shadow: var(--card-hover-shadow-red-light) !important;
    border-color: rgb(var(--c-rosie-red)) !important;
  }

  .dark {
    --c-surface: 23 23 23;
    --c-surface-elevated: 38 38 38;
    --c-muted: 163 163 163;
    --c-border: 64 64 64;
    --c-text: 250 250 250;
    --c-text-muted: 163 163 163;
    /* Rosie palette (saturated poster) for dark theme */
    --c-rosie-yellow: 244 208 63;
    --c-rosie-red: 196 30 58;
    --c-rosie-navy: 27 54 93;
    --c-rosie-navy-bright: 100 150 220;
    --c-rosie-orange: 255 145 60;
    --c-accent: 196 30 58;
    --c-accent-muted: 216 45 70;
    /* Hero hexagon rivets - pure black in dark mode */
    --hex-stroke: rgb(0, 0, 0);
    --hex-fill: rgb(0, 0, 0);
    --hex-opacity: 1;
    /* Card hover glow for dark theme */
    --card-hover-shadow: 0 0 24px rgba(244, 208, 63, 0.22);
    --card-hover-shadow-red: 0 0 24px rgba(196, 30, 58, 0.3);
  }

  .dark .language-card,
  .dark .platform-card,
  .dark .project-card,
  .dark .tool-card,
  .dark .blog-card {
    transition: box-shadow 0.2s, border-color 0.2s, background-color 0.2s;
  }

  .dark .language-card:hover,
  .dark .platform-card:hover,
  .dark .project-card:hover {
    box-shadow: var(--card-hover-shadow) !important;
    border-color: rgb(var(--c-rosie-yellow)) !important;
    background-color: rgb(52 52 52) !important;
  }

  .dark .tool-card:hover,
  .dark .blog-card:hover {
    box-shadow: var(--card-hover-shadow-red) !important;
    border-color: rgb(var(--c-rosie-red)) !important;
    background-color: rgb(52 52 52) !important;
  }

  /* Dark theme: GitHub green, macOS moon silver */
  .dark .tool-card.icon-github svg {
    fill: rgb(var(--c-github)) !important;
  }

  .dark .platform-card.icon-macos svg,
  .dark .tool-card.icon-macos svg {
    fill: #c7c7cc !important;
  }

  /* Dark theme: Cursor purple brand color (AI section uses language-card) */
  .dark .language-card.icon-cursor svg {
    fill: #6b21a8 !important;
  }

  html {
    @apply scroll-smooth;
  }

  body {
    @apply bg-surface text-[rgb(var(--c-text))] antialiased;
  }
}

/* Component classes */
@layer components {
  .card {
    @apply rounded-xl border border-border bg-surface-elevated p-6 shadow-sm transition-shadow hover:shadow-md;
  }

  .btn-solid-red {
    @apply inline-flex items-center justify-center rounded-lg bg-rosie-red px-4 py-2 text-sm font-medium text-[rgb(var(--c-surface))] dark:text-white transition-all hover:brightness-110 focus:outline-none focus:ring-2 focus:ring-rosie-red focus:ring-offset-2 focus:ring-offset-surface;
  }

  .btn-solid-yellow {
    @apply inline-flex items-center justify-center rounded-lg bg-rosie-yellow px-4 py-2 text-sm font-medium text-black transition-all hover:brightness-105 focus:outline-none focus:ring-2 focus:ring-rosie-yellow focus:ring-offset-2 focus:ring-offset-surface;
  }

  .btn-secondary {
    @apply inline-flex items-center justify-center rounded-lg border border-border bg-surface px-4 py-2 text-sm font-medium text-[rgb(var(--c-text))] transition-colors hover:bg-surface-elevated focus:outline-none focus:ring-2 focus:ring-border focus:ring-offset-2 focus:ring-offset-surface;
  }

  .btn-github {
    @apply inline-flex items-center justify-center gap-2 rounded-lg bg-[rgb(var(--c-github))] px-4 py-2 text-sm font-medium !text-white transition-colors hover:brightness-110 focus:outline-none focus:ring-2 focus:ring-[rgb(var(--c-github))] focus:ring-offset-2 focus:ring-offset-surface;
  }

  .btn-linkedin {
    @apply inline-flex items-center justify-center gap-2 rounded-lg bg-[rgb(var(--c-linkedin))] px-4 py-2 text-sm font-medium !text-white transition-colors hover:brightness-110 focus:outline-none focus:ring-2 focus:ring-[rgb(var(--c-linkedin))] focus:ring-offset-2 focus:ring-offset-surface;
  }

  .badge {
    @apply inline-flex items-center rounded-full border border-border bg-surface-elevated px-2.5 py-0.5 text-xs font-medium text-muted;
  }

  .badge-featured {
    @apply border-2 border-rosie-navy-bright bg-rosie-navy-bright/15 px-2.5 py-0.5 text-rosie-navy-bright font-medium;
    box-shadow: 0 0 12px rgb(var(--c-rosie-navy-bright) / 0.4);
  }

  .dark .badge-featured {
    box-shadow: 0 0 16px rgb(var(--c-rosie-navy-bright) / 0.5);
  }

  .section-heading {
    @apply text-2xl font-semibold tracking-tight text-[rgb(var(--c-text))] md:text-3xl;
  }

  .section-heading-rosie {
    @apply section-heading border-l-4 border-rosie-navy pl-4;
  }

  .banner-wip {
    @apply flex items-center justify-center gap-2 rounded-lg border-2 border-rosie-orange bg-rosie-orange/90 px-4 py-3 text-sm font-semibold text-white;
    box-shadow: 0 0 16px rgb(var(--c-rosie-orange) / 0.5);
  }

  .dark .banner-wip {
    @apply border-rosie-orange bg-rosie-orange/25 text-rosie-orange;
    box-shadow: 0 0 20px rgb(var(--c-rosie-orange) / 0.35);
  }

  .banner-wip__icon {
    @apply text-base;
  }

  .banner-wip__text {
    @apply tracking-tight;
  }

  .prose-custom {
    @apply prose prose-neutral dark:prose-invert max-w-none;
    @apply prose-headings:font-semibold prose-headings:tracking-tight;
    @apply prose-a:no-underline hover:prose-a:underline;
    /* Internal links default: red */
    @apply [&_a[href^="/"]]:!text-rosie-red [&_a[href^="/"]]:hover:!text-rosie-red;
    /* External links: bright navy */
    @apply [&_a[href^="http"]]:!text-rosie-navy-bright [&_a[href^="http"]]:hover:!text-rosie-navy-bright;
    /* Internal blog links: red (explicit) */
    @apply [&_a[href^="/blog/"]]:!text-rosie-red [&_a[href^="/blog/"]]:hover:!text-rosie-red;
    /* Internal project links: yellow (overrides default) */
    @apply [&_a[href^="/projects/"]]:!text-rosie-yellow [&_a[href^="/projects/"]]:hover:!text-rosie-yellow;
    @apply [&_a.btn-github]:!text-white [&_a.btn-linkedin]:!text-white;
    @apply [&_a.btn-solid-red]:!text-[rgb(var(--c-surface))] dark:[&_a.btn-solid-red]:!text-white;
    @apply [&_a.btn-solid-yellow]:!text-black;
    @apply prose-code:rounded prose-code:bg-surface-elevated prose-code:px-1.5 prose-code:py-0.5 prose-code:before:content-none prose-code:after:content-none;
    @apply prose-pre:rounded-xl prose-pre:border prose-pre:border-border;
  }
}

/* Reveal animation - respects reduced motion */
@layer utilities {
  .reveal {
    @apply opacity-0 transition-all duration-500 ease-out;
  }

  .reveal--visible {
    @apply opacity-100;
  }

  @media (prefers-reduced-motion: reduce) {
    .reveal {
      @apply opacity-100 transition-none;
    }
  }

  .reveal--visible.reveal--animate {
    animation: fadeUp 0.5s ease-out forwards;
  }

  @media (prefers-reduced-motion: reduce) {
    .reveal--visible.reveal--animate {
      animation: none;
    }
  }

  @keyframes fadeUp {
    from {
      opacity: 0;
      transform: translateY(12px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

}
